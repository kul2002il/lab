<!DOCTYPE html>
<html>
<head>
	<title>Практическая работа</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="static/style.css">
	<script src="static/main.js" defer></script>
</head>
<body>
	<main>
		<div class="title_page">
			<div>
				ДЕПАРТАМЕНТ ПРОФЕССИОНАЛЬНОГО ОБРАЗОВАНИЯ<br/>
				ТОМСКОЙ ОБЛАСТИ<br/>
				ОБЛАСТНОЕ ГОСУДАРСТВЕННОЕ БЮДЖЕТНОЕ ПРОФЕССИОНАЛЬНОЕ
				ОБРАЗОВАТЕЛЬНОЕ УЧРЕЖДЕНИЕ<br/>
				«ТОМСКИЙ ТЕХНИКУМ ИНФОРМАЦИОННЫХ ТЕХНОЛОГИЙ»
			</div>

			<div class="discipline">
				Специальность 090207 «Информационные системы и программирование»
			</div>

			<div class="title_work">
				Отчет по лабораторно-практической работе №2<br/>
				учебной дисциплины<br/>
				“Обеспечение безопасности веб-приложений”<br/>
				Тема: «Тестирование защищенности механизма управления доступом и сессиями»
			</div>

			<div class="signature">
				<table>
					<tr>
						<td>Студент<br/>«__»________ 2021 г.</td>
						<td>_________________</td>
						<td>Кулманаков И.В.</td>
					</tr>
					<tr>
						<td>Руководитель<br/>«__»________ 2021 г.</td>
						<td>_________________</td>
						<td>Истегечев С.С.</td>
					</tr>
				</table>
			</div>

			<div>Томск 2021</div><div></div>
		</div>

		<div>
			<h2 class="ignoreIndex">Содержание</h2>
			
			<div data-index="h2/h3/h4/h5/h6"></div>
		</div>

		<div>
			<h2>Введение</h2>

			<h3>Цель</h3>
			<p>
				Обучение методам и средствам тестирования защищенности
				механизма управления доступом в веб-приложениях, современным методам
				и средствам тестирования защищенности механизма управления сессиями в
				веб-приложениях
			</p>

			<h3>Задания</h3>
			<p>
				Исследуемое веб-приложение:
				<a href="https://store.steampowered.com/">https://store.steampowered.com/</a>.
			</p>
			<ol>
				<li>
					Выполнить тестирование защищенности механизма
					управления доступом исследуемого веб-приложения.
				</li>
				<li>
					Выполнить тестирование защищенности механизма
					управления сессиями исследуемого веб-приложения. Последовательность
					действий.
				</li>
			</ol>
		</div>
		
		<div>
			<h2>Ход работы</h2>
			<h3>Задание 1</h3>
			<h4>Шаг 1</h4>
			<h5>Регистрация</h5>
			<div class="img">
				<img src="img/1.1.png">
				<div>Регистрация в приложении</div>
			</div>
			<p>
				При регистрации был получен идентификатор 76561199222804951.
				Ближайщие профили со схожим идентификатором — это
				76561199222804945 и 76561199222804960.
				Из этого следует вывод, что профили не назначаются простым
				инкрементом или дикрементом переменной.
			</p>
			<h4>Шаг 2</h4>
			<p>
				При запросе формы входа про протоколу http происходит
				перенаправление на протокол https.
			</p>
			<div class="img">
				<img src="img/2.1.png">
				<div>Перенаправление на протокол https.</div>
			</div>
			<p>
				В процессе исследования приложения было обнаружено,
				что данные формы входа отправляются на адрес
				https://store.steampowered.com/login/getrsakey/
				Формой x-www-form-urlencoded и полями
				{donotcache:1637569008572, username:al42sel}.
			</p>
			<p>
				Был сформирован и протестирован минимальный успешный запрос,
				который возращает ответ, аналогичный в процессе работы.
			</p>
			<div class="img">
				<img src="img/2.2.png">
				<div>Отправна данных формы в штатном режиме.</div>
			</div>
			<p>
				При попытке отправить данные по протоколу http, приходит ответ,
				говорящий о том, что запрос безуспешен.
			</p>
			<div class="img">
				<img src="img/2.3.png">
				<div>Отправна данных формы безуспешна.</div>
			</div>
			<h4>Шаг 3</h4>
			<p>
				Пользователя с логином admin и паролем admin не существует
			</p>
			<div class="img">
				<img src="img/3.1.png">
				<div>Ошибка входа</div>
			</div>
			<h4>Шаг 4</h4>
			<h4>Шаг 5</h4>
			<p>
				При множестве входов с неправильными данными появляется
				картинка с почти нормально читаемом текстом и полем для его ввода
			</p>
			<div class="img">
				<img src="img/5.png">
				<div>Ошибка входа</div>
			</div>
			<h4>Шаг 6</h4>
			<p>
				Ввод данных об оплате.
			</p>
			<div class="img">
				<img src="img/6.1.png">
				<div>Ошибка входа</div>
			</div>
			<p>
				Пр
			</p>
			<div class="img">
				<img src="img/6.2.png">
				<div>Ошибка входа</div>
			</div>
			<p>
				Пр
			</p>
			<div class="img">
				<img src="img/6.3.png">
				<div>Ошибка входа</div>
			</div>
			<h3>Задание 2</h3>
			<h4>Шаг 1</h4>
			<p>
				При открытии главной страницы приложения для исследования
				создаются следующие Cookie:
			</p>
			<div class="img">
				<img src="img/tt1.png">
				<div>Cookie главной страницы.</div>
			</div>
			<p>
				Исходя из создания поля sessionid можно предположить,
				что для анонимного пользователя создаётся сессия.
			</p>
			<h4>Шаг 2</h4>
			<p>
				При входе создаются следующие Cookie.
			</p>
			<div class="img">
				<img src="img/tt2.png">
				<div>Cookie после входа.</div>
			</div>
			<p>
				При удалении steamLoginSecure данные о входе теряются.
				Это означает, что оно хранит в себе данные о аутентификации или их часть.
			</p>
			<div class="img">
				<img src="img/tt2.png">
				<div>Появление ссылки входа после удаления соответствующих Cookie.</div>
			</div>
			<h4>Шаг 3</h4>
			<p>
				Идентификатор сессии входа пользователя хранится в Cookie
				steamLoginSecure и имеет следующие частные случаи для одного аккаунта:
			</p>
			<pre>
76561199222804951%7C%7CB7DE736834058E444FA31E234BFE0CC0F2F9878F
76561199222804951%7C%7CEC64579965DC913D94DAD1152D7E4312EC1ABC85 steamLoginSecure
76561199222804951%7C%7C5867045C15647F60DCC8892F1000F63DC976717D</pre>
			<p>
				76561199222804951 — это идентификатор пользователя.
			</p>
			<p>
				Согласно таблице символов ASCII, %7C%7C соответствует ||,
				что может использоваться как разделитель для приложения.
			</p>
			<p>
				Далее идёт шестнадцатиричная строка длинной в 40 символов.
				В бинарном формате занимает 20 байт. Что соответствует
				примерно 1,46e+48 вариантов подбора.
			</p>
			<h4>Шаг 4</h4>
			<p>
				При входе создаются следующие Cookie.
			</p>
			<div class="img">
				<img src="img/tt2.png">
				<div>Cookie после входа.</div>
			</div>
			<p>
				При входе создаются следующие Cookie.
			</p>
			<div class="img">
				<img src="img/tt2.png">
				<div>Cookie после входа.</div>
			</div>
			<p>
				Далее совершён выход и восстановлены Cookie до выхода.
				Станица выдала неизвестную ошибку.
			</p>
			<div class="img">
				<img src="img/tt4.2.png">
				<div>Страница и Cookie после попытки входа по старому идентификатору.</div>
			</div>
			<h4>Шаг 5</h4>
			<p>
				Смена идентификатора сессии проверена в шаге 3.
			</p>
			<h3>Задание 3</h3>
			<div class="img">
				<pre>
function getSessionId()
{
	return V_GetCookie("sessionid");
}
function setSessionId(id)
{
	V_SetCookie("sessionid", id);
}</pre>
				<div>Скрипт JS для установки и считывания сессии пользователя.</div>
			</div>
		</div>
		<div>
			<h2>Вывод</h2>
			<p>
				В ходе выполнения практической работы были получены практические знания
				по методам и средствам тестирования защищенности
				механизма управления доступом в веб-приложениях, современным методам
				и средствам тестирования защищенности механизма управления сессиями в
				веб-приложениях.
			</p>
		</div>
	</main>
</body>
</html>